<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Retrieve and Rank</title>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  </head>
  <body>
    <input id="query" type="text">
    <input id="test" type="button" value="Test">
    <div id="result"></div>
  </body>
  <script type="text/javascript">        
    $("#test").click(function(){
      $("#result").empty();

      $.ajax({
        type: "POST",
        url: "http://faq_test.mybluemix.net/query",
        dataType: "json",
        data: {
            q: $("#query").val()
        }
      }).done(function(data){
        var doc = "";
        var docs = data.response.docs;
        if (docs.length > 0) {
            doc = JSON.stringify(docs[0]);
        } else {
            doc = "結果が見つかりませんでした。";
        }
        $("#result").text(doc);
      }).fail(function(error){
          console.log(error);
      });
    });
  </script>
</html>
